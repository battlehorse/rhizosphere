<!DOCTYPE html>
<html>
  <head>
    <title>Rhizosphere</title>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link rel="stylesheet" href="static/shared/stylesheets/jquery-ui-1.7.custom.css" type="text/css" media="screen" charset="utf-8">
    <link rel="stylesheet" href="static/lib/stylesheets/rhizo.css" type="text/css" media="screen" charset="utf-8">
  </head>
  <body>
    <div id="rhizo-pangea">
    </div>
    <!-- Scripts section -->

    <!-- for the GViz loader -->
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>

    <!-- JQuery specific libraries -->
    {% if debug %}
      <script src="static/shared/js/jquery-1.4.1.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/shared/js/jquery-ui-1.7.custom.js" type="text/javascript" charset="utf-8"></script>
    {% else %}
      <script src="static/shared/js/jquery-1.4.1.min.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/shared/js/jquery-ui-1.7.custom.min.js" type="text/javascript" charset="utf-8"></script>
    {% endif %}

    <!-- Rhizosphere libraries -->
    {% if debug %}
      <script src="static/lib/js/rhizo.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.log.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.base.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.meta.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/extra/rhizo.meta.extra.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.layout.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.layout.tree.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.model.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.model.loader.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.autorender.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.gviz.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.ui.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.ui.gui.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.ui.component.js" type="text/javascript" charset="utf-8"></script>
      <script src="static/lib/js/rhizo.bootstrap.js" type="text/javascript" charset="utf-8"></script>
    {% else %}
      <script src="static/lib/js/pack/rhizo.pack.js" type="text/javascript" charset="utf-8"></script>
    {% endif %}

    <script type="text/javascript" charset="utf-8">
      // Force GViz to load early on, as otherwise the loading won't happen
      // if started inside the bootstrapper (I suspect because the bootstrapper
      // is itself included inside the JQuery ready() function).
      // This is reproducible in FF3.5 and Safari4 on Mac.
      //
      // Note that I suspect this may cause a possible race condition, since in
      // the bootstrapper we might be using GViz objects before the loading is
      // completed (aka, we don't wait the callback to be invoked).
      if (typeof google != 'undefined') {
        google.load('visualization', '1');
        google.setOnLoadCallback(function() {});
      }

      $(document).ready(function() {
        var bootstrapper = new rhizo.bootstrap.Bootstrap(
            $('#rhizo-pangea'), {autoSize: true});
        bootstrapper.go();
      });
    </script>
  </body>
</html>
